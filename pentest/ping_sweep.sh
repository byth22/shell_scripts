#!/usr/bin/bash

banner()
{
  echo""
  echo "-- PING_SWEEP for C class --"
  echo ""
}

if [ $# -ne 1 ]; then
  banner
  echo "[*] Falta 1 argumento."
  echo ""
  echo "    [-] Usage: ./ping_sweep.sh + subnet "
  echo "        ex: ./ping_sweep.sh 192.168.1.1"
  exit 1
fi

base=$(echo $1 | sed 's/..$//')

for i in $(seq 100 255); do
  ping -c1 $base.$i | grep "64 bytes" | cut -d " " -f 4 | sed 's/.$//' 2> /dev/null &
done
